version: 2.1
jobs:
  build:
    machine: 
      image: ubuntu-2004:202010-01
    steps:
      - checkout
      - run:
          name: Install Sonarqube scanner
          command: |
            wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-4.8.0.2856-linux.zip
            unzip sonar-scanner-cli-4.8.0.2856-linux.zip
      - run: sudo apt-get update && sudo apt-get install -y --no-install-recommends\zip
          \unzip
      - run: curl -L https://services.gradle.org/distributions/gradle-6.5.1-bin.zip -o
          gradle-6.5.1-bin.zip && unzip -q gradle-6.5.1-bin.zip
      - run: ./gradlew clean build
workflows:
  sap-build:
    jobs:
      - build
